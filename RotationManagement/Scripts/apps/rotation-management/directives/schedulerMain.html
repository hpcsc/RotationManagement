<div class="scheduler-main">
    <div class="scheduler-main-inner" data-ng-style="{'width': schedulerMainInnerWidth}">
        <div class="scheduler-header-container">
            <div class="scheduler-header" data-ng-repeat="columnHeader in columnHeaders">{{columnHeader.text}}</div>
        </div>
        <div class="clearfix"></div>
        <div gridster="gridsterOpts">
            <div class="scheduler-table">
                <div data-ng-repeat="(rowIndex, rowHeader) in rowHeaders">
                    <div class="scheduler-cell" data-ng-repeat="(columnIndex, columnHeader) in columnHeaders" data-ng-click="openCreateNewAssignment(rowIndex, columnIndex)"></div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <ul>
                <li gridster-item="assignment"
                    data-ng-repeat="assignment in assignments"
                    data-ng-style="{'background-color': '#' + assignment.color, 'color': 'white'}"
                    data-ng-dblclick="openUpdateAssignment(assignment)">
                    {{assignment.text}}
                    <span class="glyphicon glyphicon-remove pull-right remove-assignment-icon" data-ng-click="remove(assignment)"></span>
                </li>
            </ul>
        </div>
    </div>  
    
    <script type="text/ng-template" id="createAssignmentTmpl.html">
        <div class="modal-header">
            <h3 class="modal-title">Create new assignment</h3>
        </div>
        <div class="modal-body">
            <select class="form-control" data-ng-model="selectedTask" data-ng-options="o.text for o in availableTasks">                
            </select>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="create()">Create</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>    

    <script type="text/ng-template" id="updateAssignmentTmpl.html">
        <div class="modal-header">
            <h3 class="modal-title">Update assignment</h3>
        </div>
        <div class="modal-body">
            <select class="form-control" data-ng-model="selectedTask" data-ng-options="o.text for o in availableTasks"></select>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="update()">Update</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script> 
</div>